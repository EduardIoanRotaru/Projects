<div class="contaienr ">
    <div class="row justify-content-center">
        <div class="col col-lg-8 mx-auto">
            <form class="mb-2" [formGroup]="taskForm" (ngSubmit)="onSubmit()">
                <h4>
                    <strong>Today {{currentDate | date: 'yyyy-MM-dd'}}</strong>
                </h4>
                <label class="font-weight-bold" for="name">Add task</label>
                <div class="form-group">
                    <div class="input-group">
                        <input type="text" id="name" formControlName="name" class="form-control"
                            placeholder="Task Name: e.g boil eggs">
                        <select class="form-select" formControlName="label">
                            <option value='' disabled selected>Priority</option>
                            <option *ngFor="let name of keys" [value]="name"> {{priorityEnum[name]}} </option>
                        </select>
                    </div>
                    <span style="color:red" *ngIf="name?.errors?.['required'] && name?.touched">
                        Task name is required
                    </span>
                    <span style="color:red" *ngIf="name?.errors?.['minlength'] && name?.touched">
                        Minimum length is 3
                    </span>
                  
                    <div class="form-check form-switch ml-3 mb-2 mt-2">
                        <input  class="form-check-input" type="checkbox" id="flexSwitchCheckDefault" (click)="toggleDateInput()">
                        <label class="form-check-label" for="flexSwitchCheckDefault">Add future task</label>
                    </div>
                
                    <div *ngIf="enableFutureTask" class="row form-group">
                        <label class="font-weight-bold">Select Date</label>
                        <div class="col-xs-12 col-12 col-md-4 form-group mb-3">
                          <input type="text"
                                 placeholder="Datepicker"
                                 class="form-control"
                                 bsDatepicker
                                 [bsConfig]="{ isAnimated: true }">
                        </div>
                      </div>
                </div>
                <button class="btn btn-outline-primary mr-2" *ngIf="!editMode" type="submit">Add New Task</button>
                <button class="btn btn-outline-success mr-2" *ngIf="editMode" type="button" (click)="editTask()">Edit
                    Task</button>
                <button class="btn btn-outline-warning mr-2" *ngIf="editMode" type="button"
                    (click)="cancelEditMode()">Cancel</button>
            </form>

            <ul class="list-group h-20" *ngFor="let item of todayTasks;let i = index">
                <li class="list-group-item mt-2" [ngClass]="{'list-group-item-danger':item.label == 0,
            'list-group-item-warning': item.label == 1, 
            'list-group-item-info':item.label == 2}" style="line-height: 20px;">
                    {{item.name}}
                    <a class="float-right ml-2" (click)="removeItem(i)" style="cursor: pointer;">
                        <i class="bi bi-trash-fill fs-3" style="color:rgb(194, 40, 2)"></i>
                    </a>
                    <a class="float-right ml-2" (click)="displayCommentsComponent(i)" style="cursor: pointer;">
                        <i class="bi bi-chat-square-text fs-3"></i>
                    </a>
                    <a class="float-right ml-2" (click)="enableEditTask(item, i)" style="cursor: pointer;">
                        <i class="bi bi-pencil fs-3" style="color:rgb(48, 12, 179)"></i>
                    </a>
                </li>
                <app-today-tasks-comments (closeTaskCommentSection)="displayCommentsComponent($event)" id="{{'tasksComment' + i}}" *ngIf="showCommentComponent[i]"
                    [taskObj]="{tasks: todayTasks, index: i}">
                </app-today-tasks-comments>
            </ul>
        </div>
    </div>
</div>  